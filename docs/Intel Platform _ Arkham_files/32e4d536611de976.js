(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,36830,e=>{e.v({container:"index-module__HahFva__container",hideIfNotMobile:"index-module__HahFva__hideIfNotMobile",mobileSeparator:"index-module__HahFva__mobileSeparator",mobileTitle:"index-module__HahFva__mobileTitle",mobileUsageLimits:"index-module__HahFva__mobileUsageLimits",rightContainer:"index-module__HahFva__rightContainer",rightInnerContainer:"index-module__HahFva__rightInnerContainer",tab:"index-module__HahFva__tab",tabSelected:"index-module__HahFva__tabSelected",tabUnselected:"index-module__HahFva__tabUnselected",tabsContainer:"index-module__HahFva__tabsContainer"})},34627,e=>{e.v({container:"Sidebar-module__CxCzda__container",errorIcon:"Sidebar-module__CxCzda__errorIcon",hideOnMobile:"Sidebar-module__CxCzda__hideOnMobile",icons:"Sidebar-module__CxCzda__icons",item:"Sidebar-module__CxCzda__item",itemName:"Sidebar-module__CxCzda__itemName",items:"Sidebar-module__CxCzda__items",logo:"Sidebar-module__CxCzda__logo",logoHover:"Sidebar-module__CxCzda__logoHover",newButton:"Sidebar-module__CxCzda__newButton",scrollableContent:"Sidebar-module__CxCzda__scrollableContent",searchIcon:"Sidebar-module__CxCzda__searchIcon",searchInput:"Sidebar-module__CxCzda__searchInput",searchInputContainer:"Sidebar-module__CxCzda__searchInputContainer",searchInputField:"Sidebar-module__CxCzda__searchInputField",selected:"Sidebar-module__CxCzda__selected",trash:"Sidebar-module__CxCzda__trash",usageLimitsGrid:"Sidebar-module__CxCzda__usageLimitsGrid",usageLimitsHeader:"Sidebar-module__CxCzda__usageLimitsHeader",usageLimitsRow:"Sidebar-module__CxCzda__usageLimitsRow",usageLimitsWidget:"Sidebar-module__CxCzda__usageLimitsWidget",usageNormal:"Sidebar-module__CxCzda__usageNormal",usageWarning:"Sidebar-module__CxCzda__usageWarning"})},60298,e=>{e.v({cancelPhotoUpload:"ManageEntity-module__sSo63q__cancelPhotoUpload",choosePhotoModalContainer:"ManageEntity-module__sSo63q__choosePhotoModalContainer",choosePhotoTitle:"ManageEntity-module__sSo63q__choosePhotoTitle",container:"ManageEntity-module__sSo63q__container",counterpartiesTitle:"ManageEntity-module__sSo63q__counterpartiesTitle",editIconNotEditing:"ManageEntity-module__sSo63q__editIconNotEditing",entityCounterparties:"ManageEntity-module__sSo63q__entityCounterparties",entityCounterpartiesTableHeader:"ManageEntity-module__sSo63q__entityCounterpartiesTableHeader",entityTitle:"ManageEntity-module__sSo63q__entityTitle",entityTransactions:"ManageEntity-module__sSo63q__entityTransactions",gray:"ManageEntity-module__sSo63q__gray",hideOnMobile:"ManageEntity-module__sSo63q__hideOnMobile",icon:"ManageEntity-module__sSo63q__icon",leftContainer:"ManageEntity-module__sSo63q__leftContainer",loadingIconContainer:"ManageEntity-module__sSo63q__loadingIconContainer",newEntityAddressInput:"ManageEntity-module__sSo63q__newEntityAddressInput",photoUploadInputElement:"ManageEntity-module__sSo63q__photoUploadInputElement",profileContainer:"ManageEntity-module__sSo63q__profileContainer",profileMiddle:"ManageEntity-module__sSo63q__profileMiddle",profilePicture:"ManageEntity-module__sSo63q__profilePicture",profileRight:"ManageEntity-module__sSo63q__profileRight",reactCropContainer:"ManageEntity-module__sSo63q__reactCropContainer",rightContainer:"ManageEntity-module__sSo63q__rightContainer",showOnMobile:"ManageEntity-module__sSo63q__showOnMobile",uploadButtonAndLoadingIcon:"ManageEntity-module__sSo63q__uploadButtonAndLoadingIcon",uploadPhotoButton:"ManageEntity-module__sSo63q__uploadPhotoButton",viewEntityProfile:"ManageEntity-module__sSo63q__viewEntityProfile"})},44395,e=>{e.v({arkhamEntity:"MyEntitiesMenu-module__ctV6bW__arkhamEntity",arkhamEntityBar:"MyEntitiesMenu-module__ctV6bW__arkhamEntityBar",arkhamEntityIcon:"MyEntitiesMenu-module__ctV6bW__arkhamEntityIcon",container:"MyEntitiesMenu-module__ctV6bW__container",createNewEntityButton:"MyEntitiesMenu-module__ctV6bW__createNewEntityButton",entityInfo:"MyEntitiesMenu-module__ctV6bW__entityInfo",entityName:"MyEntitiesMenu-module__ctV6bW__entityName",gridItem:"MyEntitiesMenu-module__ctV6bW__gridItem",hideOnMobile:"MyEntitiesMenu-module__ctV6bW__hideOnMobile",itemContainerRight:"MyEntitiesMenu-module__ctV6bW__itemContainerRight",numAddresses:"MyEntitiesMenu-module__ctV6bW__numAddresses",profilePicture:"MyEntitiesMenu-module__ctV6bW__profilePicture",separator:"MyEntitiesMenu-module__ctV6bW__separator",showOnMobile:"MyEntitiesMenu-module__ctV6bW__showOnMobile"})},3509,e=>{e.v({bulkUploadButton:"LabelList-module__QL2VQW__bulkUploadButton",chainTypeHeader:"LabelList-module__QL2VQW__chainTypeHeader",container:"LabelList-module__QL2VQW__container",csvModalContent:"LabelList-module__QL2VQW__csvModalContent",csvModalHeader:"LabelList-module__QL2VQW__csvModalHeader",csvTextArea:"LabelList-module__QL2VQW__csvTextArea",csvTextEntry:"LabelList-module__QL2VQW__csvTextEntry",csvUploadMiddleSection:"LabelList-module__QL2VQW__csvUploadMiddleSection",csvUploadModal:"LabelList-module__QL2VQW__csvUploadModal",delete:"LabelList-module__QL2VQW__delete",divider:"LabelList-module__QL2VQW__divider",doneButton:"LabelList-module__QL2VQW__doneButton",editIconNotEditing:"LabelList-module__QL2VQW__editIconNotEditing",editableLabel:"LabelList-module__QL2VQW__editableLabel",entityAddRemove:"LabelList-module__QL2VQW__entityAddRemove",entityAddressAddress:"LabelList-module__QL2VQW__entityAddressAddress",entityAddressName:"LabelList-module__QL2VQW__entityAddressName",entityAddressValue:"LabelList-module__QL2VQW__entityAddressValue",entityAddresses:"LabelList-module__QL2VQW__entityAddresses",entityAddressesInnerItem:"LabelList-module__QL2VQW__entityAddressesInnerItem",entityAddressesItemContainer:"LabelList-module__QL2VQW__entityAddressesItemContainer",entityAddressesTitle:"LabelList-module__QL2VQW__entityAddressesTitle",entityCounterpartiesTableHeader:"LabelList-module__QL2VQW__entityCounterpartiesTableHeader",fileInput:"LabelList-module__QL2VQW__fileInput",fileInputButtonContainer:"LabelList-module__QL2VQW__fileInputButtonContainer",fileName:"LabelList-module__QL2VQW__fileName",fileUploadContainer:"LabelList-module__QL2VQW__fileUploadContainer",gray:"LabelList-module__QL2VQW__gray",icon:"LabelList-module__QL2VQW__icon",newEntityAddressInput:"LabelList-module__QL2VQW__newEntityAddressInput",or:"LabelList-module__QL2VQW__or",saveEdits:"LabelList-module__QL2VQW__saveEdits",showOnMobile:"LabelList-module__QL2VQW__showOnMobile",uploadBottomMessage:"LabelList-module__QL2VQW__uploadBottomMessage",uploadButton:"LabelList-module__QL2VQW__uploadButton",uploadButtonContainer:"LabelList-module__QL2VQW__uploadButtonContainer",uploadGrid:"LabelList-module__QL2VQW__uploadGrid",uploadGridCell:"LabelList-module__QL2VQW__uploadGridCell",uploadLabel:"LabelList-module__QL2VQW__uploadLabel",viewEntityProfile:"LabelList-module__QL2VQW__viewEntityProfile"})},72552,(e,t,i)=>{var a;let s;e.e,a=function e(){"use strict";var t="u">typeof self?self:"u">typeof window?window:void 0!==t?t:{},i=!t.document&&!!t.postMessage,a=t.IS_PAPA_WORKER||!1,s={},n=0,r={parse:function(i,a){var l,d=(a=a||{}).dynamicTyping||!1;if(x(d)&&(a.dynamicTypingFunction=d,d={}),a.dynamicTyping=d,a.transform=!!x(a.transform)&&a.transform,a.worker&&r.WORKERS_SUPPORTED){var _=function(){if(!r.WORKERS_SUPPORTED)return!1;var i,a,l=(i=t.URL||t.webkitURL||null,a=e.toString(),r.BLOB_URL||(r.BLOB_URL=i.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",a,")();"],{type:"text/javascript"})))),d=new t.Worker(l);return d.onmessage=p,d.id=n++,s[d.id]=d}();return _.userStep=a.step,_.userChunk=a.chunk,_.userComplete=a.complete,_.userError=a.error,a.step=x(a.step),a.chunk=x(a.chunk),a.complete=x(a.complete),a.error=x(a.error),delete a.worker,void _.postMessage({input:i,config:a,workerId:_.id})}var m=null;return r.NODE_STREAM_INPUT,"string"==typeof i?(i=65279===(l=i).charCodeAt(0)?l.slice(1):l,m=a.download?new o(a):new c(a)):!0===i.readable&&x(i.read)&&x(i.on)?m=new h(a):(t.File&&i instanceof File||i instanceof Object)&&(m=new u(a)),m.stream(i)},unparse:function(e,t){var i=!1,a=!0,s=",",n="\r\n",l='"',d=l+l,o=!1,u=null,c=!1;if("object"==typeof t){if("string"!=typeof t.delimiter||r.BAD_DELIMITERS.filter(function(e){return -1!==t.delimiter.indexOf(e)}).length||(s=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(i=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(o=t.skipEmptyLines),"string"==typeof t.newline&&(n=t.newline),"string"==typeof t.quoteChar&&(l=t.quoteChar),"boolean"==typeof t.header&&(a=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(d=t.escapeChar+l),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(c=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}var h=RegExp(m(l),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return _(null,e,o);if("object"==typeof e[0])return _(u||Object.keys(e[0]),e,o)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),_(e.fields||[],e.data||[],o);throw Error("Unable to serialize unrecognized input");function _(e,t,i){var r="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var l=Array.isArray(e)&&0<e.length,d=!Array.isArray(t[0]);if(l&&a){for(var o=0;o<e.length;o++)0<o&&(r+=s),r+=f(e[o],o);0<t.length&&(r+=n)}for(var u=0;u<t.length;u++){var c=l?e.length:t[u].length,h=!1,_=l?0===Object.keys(t[u]).length:0===t[u].length;if(i&&!l&&(h="greedy"===i?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===i&&l){for(var m=[],p=0;p<c;p++){var g=d?e[p]:p;m.push(t[u][g])}h=""===m.join("").trim()}if(!h){for(var y=0;y<c;y++){0<y&&!_&&(r+=s);var b=l&&d?e[y]:y;r+=f(t[u][b],y)}u<t.length-1&&(!i||0<c&&!_)&&(r+=n)}}return r}function f(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var a=!1;c&&"string"==typeof e&&c.test(e)&&(e="'"+e,a=!0);var n=e.toString().replace(h,d);return(a=a||!0===i||"function"==typeof i&&i(e,t)||Array.isArray(i)&&i[t]||function(e,t){for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1}(n,r.BAD_DELIMITERS)||-1<n.indexOf(s)||" "===n.charAt(0)||" "===n.charAt(n.length-1))?l+n+l:n}}};if(r.RECORD_SEP="\x1e",r.UNIT_SEP="\x1f",r.BYTE_ORDER_MARK="\uFEFF",r.BAD_DELIMITERS=["\r","\n",'"',r.BYTE_ORDER_MARK],r.WORKERS_SUPPORTED=!i&&!!t.Worker,r.NODE_STREAM_INPUT=1,r.LocalChunkSize=0xa00000,r.RemoteChunkSize=5242880,r.DefaultDelimiter=",",r.Parser=f,r.ParserHandle=_,r.NetworkStreamer=o,r.FileStreamer=u,r.StringStreamer=c,r.ReadableStreamStreamer=h,t.jQuery){var l=t.jQuery;l.fn.parse=function(e){var i=e.config||{},a=[];return this.each(function(e){if(!("INPUT"===l(this).prop("tagName").toUpperCase()&&"file"===l(this).attr("type").toLowerCase()&&t.FileReader)||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)a.push({file:this.files[s],inputElem:this,instanceConfig:l.extend({},i)})}),s(),this;function s(){if(0!==a.length){var t,i,s,d=a[0];if(x(e.before)){var o=e.before(d.file,d.inputElem);if("object"==typeof o){if("abort"===o.action)return t=d.file,i=d.inputElem,s=o.reason,void(x(e.error)&&e.error({name:"AbortError"},t,i,s));if("skip"===o.action)return void n();"object"==typeof o.config&&(d.instanceConfig=l.extend(d.instanceConfig,o.config))}else if("skip"===o)return void n()}var u=d.instanceConfig.complete;d.instanceConfig.complete=function(e){x(u)&&u(e,d.file,d.inputElem),n()},r.parse(d.file,d.instanceConfig)}else x(e.complete)&&e.complete()}function n(){a.splice(0,1),s()}}}function d(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new _(t),(this._handle.streamer=this)._config=t}).call(this,e),this.parseChunk=function(e,i){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(e);void 0!==s&&(e=s)}this.isFirstChunk=!1,this._halted=!1;var n=this._partialLine+e;this._partialLine="";var l=this._handle.parse(n,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var d=l.meta.cursor;this._finished||(this._partialLine=n.substring(d-this._baseIndex),this._baseIndex=d),l&&l.data&&(this._rowCount+=l.data.length);var o=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)t.postMessage({results:l,workerId:r.WORKER_ID,finished:o});else if(x(this._config.chunk)&&!i){if(this._config.chunk(l,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);l=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(l.data),this._completeResults.errors=this._completeResults.errors.concat(l.errors),this._completeResults.meta=l.meta),this._completed||!o||!x(this._config.complete)||l&&l.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),o||l&&l.meta.paused||this._nextChunk(),l}this._halted=!0},this._sendError=function(e){x(this._config.error)?this._config.error(e):a&&this._config.error&&t.postMessage({workerId:r.WORKER_ID,error:e,finished:!1})}}function o(e){var t;(e=e||{}).chunkSize||(e.chunkSize=r.RemoteChunkSize),d.call(this,e),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),i||(t.onload=v(this._chunkLoaded,this),t.onerror=v(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var a in e)t.setRequestHeader(a,e[a])}if(this._config.chunkSize){var s=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+s)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}i&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substring(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var i=t.statusText||e;this._sendError(Error(i))}}function u(e){(e=e||{}).chunkSize||(e.chunkSize=r.LocalChunkSize),d.call(this,e);var t,i,a="u">typeof FileReader;this.stream=function(e){this._input=e,i=e.slice||e.webkitSlice||e.mozSlice,a?((t=new FileReader).onload=v(this._chunkLoaded,this),t.onerror=v(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var s=Math.min(this._start+this._config.chunkSize,this._input.size);e=i.call(e,this._start,s)}var n=t.readAsText(e,this._config.encoding);a||this._chunkLoaded({target:{result:n}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function c(e){var t;d.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,i=this._config.chunkSize;return i?(e=t.substring(0,i),t=t.substring(i)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function h(e){d.call(this,e=e||{});var t=[],i=!0,a=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){a&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=v(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=v(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=v(function(){this._streamCleanUp(),a=!0,this._streamData("")},this),this._streamCleanUp=v(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _(e){var t,i,a,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,n=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,l=this,d=0,o=0,u=!1,c=!1,h=[],_={data:[],errors:[],meta:{}};if(x(e.step)){var p=e.step;e.step=function(t){if(_=t,v())y();else{if(y(),0===_.data.length)return;d+=t.data.length,e.preview&&d>e.preview?i.abort():(_.data=_.data[0],p(_,l))}}}function g(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function y(){return _&&a&&(E("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+r.DefaultDelimiter+"'"),a=!1),e.skipEmptyLines&&(_.data=_.data.filter(function(e){return!g(e)})),v()&&function(){if(_)if(Array.isArray(_.data[0])){for(var t=0;v()&&t<_.data.length;t++)_.data[t].forEach(i);_.data.splice(0,1)}else _.data.forEach(i);function i(t,i){x(e.transformHeader)&&(t=e.transformHeader(t,i)),h.push(t)}}(),function(){if(!_||!e.header&&!e.dynamicTyping&&!e.transform)return _;function t(t,i){var a,r=e.header?{}:[];for(a=0;a<t.length;a++){var l,d,u=a,c=t[a];e.header&&(u=a>=h.length?"__parsed_extra":h[a]),e.transform&&(c=e.transform(c,u)),l=u,d=c,e.dynamicTypingFunction&&void 0===e.dynamicTyping[l]&&(e.dynamicTyping[l]=e.dynamicTypingFunction(l)),c=!0===(e.dynamicTyping[l]||e.dynamicTyping)?"true"===d||"TRUE"===d||"false"!==d&&"FALSE"!==d&&(!function(e){if(s.test(e)){var t=parseFloat(e);if(-0x20000000000000<t&&t<0x20000000000000)return!0}return!1}(d)?n.test(d)?new Date(d):""===d?null:d:parseFloat(d)):d,"__parsed_extra"===u?(r[u]=r[u]||[],r[u].push(c)):r[u]=c}return e.header&&(a>h.length?E("FieldMismatch","TooManyFields","Too many fields: expected "+h.length+" fields but parsed "+a,o+i):a<h.length&&E("FieldMismatch","TooFewFields","Too few fields: expected "+h.length+" fields but parsed "+a,o+i)),r}var i=1;return!_.data.length||Array.isArray(_.data[0])?(_.data=_.data.map(t),i=_.data.length):_.data=t(_.data,0),e.header&&_.meta&&(_.meta.fields=h),o+=i,_}()}function v(){return e.header&&0===h.length}function E(e,t,i,a){var s={type:e,code:t,message:i};void 0!==a&&(s.row=a),_.errors.push(s)}this.parse=function(s,n,l){var d=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var i=RegExp(m(t)+"([^]*?)"+m(t),"gm"),a=(e=e.replace(i,"")).split("\r"),s=e.split("\n"),n=1<s.length&&s[0].length<a[0].length;if(1===a.length||n)return"\n";for(var r=0,l=0;l<a.length;l++)"\n"===a[l][0]&&r++;return r>=a.length/2?"\r\n":"\r"}(s,d)),a=!1,e.delimiter)x(e.delimiter)&&(e.delimiter=e.delimiter(s),_.meta.delimiter=e.delimiter);else{var o=function(t,i,a,s,n){var l,d,o,u;n=n||[",","	","|",";",r.RECORD_SEP,r.UNIT_SEP];for(var c=0;c<n.length;c++){var h=n[c],_=0,m=0,p=0;o=void 0;for(var y=new f({comments:s,delimiter:h,newline:i,preview:10}).parse(t),b=0;b<y.data.length;b++)if(a&&g(y.data[b]))p++;else{var v=y.data[b].length;m+=v,void 0!==o?0<v&&(_+=Math.abs(v-o),o=v):o=v}0<y.data.length&&(m/=y.data.length-p),(void 0===d||_<=d)&&(void 0===u||u<m)&&1.99<m&&(d=_,l=h,u=m)}return{successful:!!(e.delimiter=l),bestDelimiter:l}}(s,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);o.successful?e.delimiter=o.bestDelimiter:(a=!0,e.delimiter=r.DefaultDelimiter),_.meta.delimiter=e.delimiter}var c=b(e);return e.preview&&e.header&&c.preview++,t=s,_=(i=new f(c)).parse(t,n,l),y(),u?{meta:{paused:!0}}:_||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,i.abort(),t=x(e.chunk)?"":t.substring(i.getCharIndex())},this.resume=function(){l.streamer._halted?(u=!1,l.streamer.parseChunk(t,!0)):setTimeout(l.resume,3)},this.aborted=function(){return c},this.abort=function(){c=!0,i.abort(),_.meta.aborted=!0,x(e.complete)&&e.complete(_),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(e){var t,i=(e=e||{}).delimiter,a=e.newline,s=e.comments,n=e.step,l=e.preview,d=e.fastMode,o=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(o=e.escapeChar),("string"!=typeof i||-1<r.BAD_DELIMITERS.indexOf(i))&&(i=","),s===i)throw Error("Comment character same as delimiter");!0===s?s="#":("string"!=typeof s||-1<r.BAD_DELIMITERS.indexOf(s))&&(s=!1),"\n"!==a&&"\r"!==a&&"\r\n"!==a&&(a="\n");var u=0,c=!1;this.parse=function(r,h,_){if("string"!=typeof r)throw Error("Input must be a string");var f=r.length,p=i.length,g=a.length,y=s.length,b=x(n),v=[],E=[],L=[],C=u=0;if(!r)return H();if(e.header&&!h){var j=r.split(a)[0].split(i),T=[],N={},S=!1;for(var w in j){var I=j[w];x(e.transformHeader)&&(I=e.transformHeader(I,w));var A=I,k=N[I]||0;for(0<k&&(S=!0,A=I+"_"+k),N[I]=k+1;T.includes(A);)A=A+"_"+k;T.push(A)}if(S){var M=r.split(a);M[0]=T.join(i),r=M.join(a)}}if(d||!1!==d&&-1===r.indexOf(t)){for(var R=r.split(a),O=0;O<R.length;O++){if(L=R[O],u+=L.length,O!==R.length-1)u+=a.length;else if(_)break;if(!s||L.substring(0,y)!==s){if(b){if(v=[],V(L.split(i)),$(),c)return H()}else V(L.split(i));if(l&&l<=O)return v=v.slice(0,l),H(!0)}}return H()}for(var W=r.indexOf(i,u),Q=r.indexOf(a,u),F=RegExp(m(o)+m(t),"g"),P=r.indexOf(t,u);;)if(r[u]!==t)if(s&&0===L.length&&r.substring(u,u+y)===s){if(-1===Q)return H();u=Q+g,Q=r.indexOf(a,u),W=r.indexOf(i,u)}else if(-1!==W&&(W<Q||-1===Q))L.push(r.substring(u,W)),u=W+p,W=r.indexOf(i,u);else{if(-1===Q)break;if(L.push(r.substring(u,Q)),z(Q+g),b&&($(),c))return H();if(l&&v.length>=l)return H(!0)}else for(P=u,u++;;){if(-1===(P=r.indexOf(t,P+1)))return _||E.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:u}),q();if(P===f-1)return q(r.substring(u,P).replace(F,t));if(t!==o||r[P+1]!==o){if(t===o||0===P||r[P-1]!==o){-1!==W&&W<P+1&&(W=r.indexOf(i,P+1)),-1!==Q&&Q<P+1&&(Q=r.indexOf(a,P+1));var D=U(-1===Q?W:Math.min(W,Q));if(r.substr(P+1+D,p)===i){L.push(r.substring(u,P).replace(F,t)),r[u=P+1+D+p]!==t&&(P=r.indexOf(t,u)),W=r.indexOf(i,u),Q=r.indexOf(a,u);break}var B=U(Q);if(r.substring(P+1+B,P+1+B+g)===a){if(L.push(r.substring(u,P).replace(F,t)),z(P+1+B+g),W=r.indexOf(i,u),P=r.indexOf(t,u),b&&($(),c))return H();if(l&&v.length>=l)return H(!0);break}E.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:u}),P++}}else P++}return q();function V(e){v.push(e),C=u}function U(e){var t=0;if(-1!==e){var i=r.substring(P+1,e);i&&""===i.trim()&&(t=i.length)}return t}function q(e){return _||(void 0===e&&(e=r.substring(u)),L.push(e),u=f,V(L),b&&$()),H()}function z(e){u=e,V(L),L=[],Q=r.indexOf(a,u)}function H(e){return{data:v,errors:E,meta:{delimiter:i,linebreak:a,aborted:c,truncated:!!e,cursor:C+(h||0)}}}function $(){n(H()),v=[],E=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return u}}function p(e){var t=e.data,i=s[t.workerId],a=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){a=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(x(i.userStep)){for(var r=0;r<t.results.data.length&&(i.userStep({data:t.results.data[r],errors:t.results.errors,meta:t.results.meta},n),!a);r++);delete t.results}else x(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!a&&g(t.workerId,t.results)}function g(e,t){var i=s[e];x(i.userComplete)&&i.userComplete(t),i.terminate(),delete s[e]}function y(){throw Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var i in e)t[i]=b(e[i]);return t}function v(e,t){return function(){e.apply(t,arguments)}}function x(e){return"function"==typeof e}return a&&(t.onmessage=function(e){var i=e.data;if(void 0===r.WORKER_ID&&i&&(r.WORKER_ID=i.workerId),"string"==typeof i.input)t.postMessage({workerId:r.WORKER_ID,results:r.parse(i.input,i.config),finished:!0});else if(t.File&&i.input instanceof File||i.input instanceof Object){var a=r.parse(i.input,i.config);a&&t.postMessage({workerId:r.WORKER_ID,results:a,finished:!0})}}),(o.prototype=Object.create(d.prototype)).constructor=o,(u.prototype=Object.create(d.prototype)).constructor=u,(c.prototype=Object.create(c.prototype)).constructor=c,(h.prototype=Object.create(d.prototype)).constructor=h,r},"function"==typeof define&&define.amd?void 0!==(s=a())&&e.v(s):t.exports=a()},37204,e=>{e.v({chainTypeHeader:"AllLabels-module__4PwbbW__chainTypeHeader",container:"AllLabels-module__4PwbbW__container",delete:"AllLabels-module__4PwbbW__delete",divider:"AllLabels-module__4PwbbW__divider",editIcon:"AllLabels-module__4PwbbW__editIcon",editIconNotEditing:"AllLabels-module__4PwbbW__editIconNotEditing",entityAddRemove:"AllLabels-module__4PwbbW__entityAddRemove",export:"AllLabels-module__4PwbbW__export",gridContainer:"AllLabels-module__4PwbbW__gridContainer",header:"AllLabels-module__4PwbbW__header",icon:"AllLabels-module__4PwbbW__icon",innerInput:"AllLabels-module__4PwbbW__innerInput",labelItem:"AllLabels-module__4PwbbW__labelItem",noEntityLabel:"AllLabels-module__4PwbbW__noEntityLabel",saveChanges:"AllLabels-module__4PwbbW__saveChanges",tableHeaders:"AllLabels-module__4PwbbW__tableHeaders",xOnHover:"AllLabels-module__4PwbbW__xOnHover"})},21539,e=>{"use strict";var t=e.i(91398),i=e.i(12474),a=e.i(65914),s=e.i(91788),n=e.i(42507),r=e.i(36830),l=e.i(34627),d=e.i(40104),o=e.i(75823),u=e.i(13314),c=e.i(70621);e.i(47620);var h=e.i(71179),_=e.i(23226),m=e.i(83707);let f=e=>{let{t:i}=(0,h.useTranslation)(),[a,r]=(0,s.useState)(""),d=n.useApi.user.get(),o=n.useApi.user.getLabelEntityLimits();return(0,t.jsxs)("div",{className:`${l.default.container} ${l.default.hideOnMobile}`,children:[(0,t.jsxs)("div",{className:l.default.scrollableContent,children:[(0,t.jsxs)("div",{className:l.default.searchInputContainer,children:[(0,t.jsx)(_.HiOutlineMagnifyingGlass,{className:l.default.searchIcon}),(0,t.jsx)(m.default,{placeholder:i("Search entities"),value:a,onChange:t=>{let i=t.target.value;r(i),e.onSearch(i)},className:l.default.searchInput,inputClassName:l.default.searchInputField,bevelSize:"small"})]}),(0,t.jsx)(g,{selected:!e.selectedItemId,name:e.title,onClickItem:e.onClickTitle}),e.names.map((i,a)=>(0,t.jsx)(g,{selected:e.selectedItemId===e.ids[a],name:i,onClickItem:()=>e.onClickItem(e.ids[a]),onClickDelete:e.onClickDelete,id:e.ids[a]},e.ids[a])),(0,t.jsx)(p,{newButtonString:e.newButtonString,onClickNew:e.onClickNew})]}),d.data?.preview&&o.data&&(0,t.jsx)(b,{limits:o.data})]})},p=({newButtonString:e,onClickNew:i})=>(0,t.jsx)("div",{className:l.default.item,children:(0,t.jsx)(d.default,{analyticsName:"Create Entity",className:l.default.itemName,format:"text",size:"large",onClick:()=>i(),children:e})}),g=({id:e,name:i,selected:a,onClickItem:n,onClickDelete:r})=>{let{t:d}=(0,h.useTranslation)(),[o,u]=(0,s.useState)(!1);return(0,t.jsxs)("div",{className:`${l.default.item} ${a?`${l.default.selected}`:""}`,onMouseOver:()=>u(!0),onMouseLeave:()=>u(!1),onClick:n,children:[(0,t.jsx)("div",{className:l.default.itemName,children:"New Entity"==i?d(i):i}),r&&e&&(0,t.jsx)(y,{id:e,name:i,onClickDelete:r,hovering:o})]})},y=({id:e,name:i,onClickDelete:a,hovering:s})=>{let{t:n}=(0,h.useTranslation)(),{modals:r,setContext:d}=(0,u.usePageContext)();return s?(0,t.jsx)("div",{className:l.default.trash,onClick:s=>{d({modals:[...r,(0,t.jsx)(c.Confirmation,{confirm:()=>a(e),message:n("Are you sure you want to delete {{name}}?",{name:i})})]}),s.stopPropagation()},children:(0,t.jsx)(o.FiTrash2,{})}):(0,t.jsx)(t.Fragment,{})},b=({limits:e})=>{let{t:i}=(0,h.useTranslation)(),a=Math.round((e.currentLabels||0)/(e.maxLabels||1)*100),s=Math.round((e.currentEntities||0)/(e.maxEntities||1)*100);return(0,t.jsxs)("div",{className:l.default.usageLimitsWidget,children:[(0,t.jsx)("div",{className:l.default.usageLimitsHeader,children:i("Usage Limits")}),(0,t.jsxs)("div",{className:l.default.usageLimitsGrid,children:[(0,t.jsxs)("div",{className:l.default.usageLimitsRow,children:[(0,t.jsx)("span",{children:i("Labels")}),(0,t.jsxs)("span",{className:a>=80?l.default.usageWarning:l.default.usageNormal,children:[e.currentLabels||0," / ",e.maxLabels]})]}),(0,t.jsxs)("div",{className:l.default.usageLimitsRow,children:[(0,t.jsx)("span",{children:i("Entities")}),(0,t.jsxs)("span",{className:s>=80?l.default.usageWarning:l.default.usageNormal,children:[e.currentEntities||0," / ",e.maxEntities]})]})]})]})};var v=e.i(60298),x=e.i(57905),E=e.i(40958),L=e.i(40003),C=e.i(87873),j=e.i(23776),T=e.i(16241),N=e.i(44395),S=e.i(80897);let w=({entities:e,onClickNew:i})=>{let{t:a}=(0,h.useTranslation)();return(0,t.jsxs)("div",{className:N.default.container,children:[(0,t.jsx)("div",{className:`${N.default.gridItem} ${N.default.showOnMobile}`,children:(0,t.jsxs)("div",{className:N.default.createNewEntityButton,onClick:i,children:["+ ",a("CREATE NEW ENTITY")]})}),e.map(e=>(0,t.jsx)(I,{entity:e})),(0,t.jsx)("div",{className:`${N.default.gridItem} ${N.default.hideOnMobile}`,children:(0,t.jsxs)("div",{className:N.default.createNewEntityButton,onClick:i,children:["+ ",a("CREATE NEW ENTITY")]})})]})},I=({entity:e})=>{let i=(0,a.useRouter)(),{t:s}=(0,h.useTranslation)();return(0,t.jsxs)("div",{onClick:()=>i.push(`/labels/${e.id}`),className:N.default.gridItem,children:[(0,t.jsx)(k,{entity:e}),(0,t.jsxs)("div",{className:N.default.itemContainerRight,children:[(0,t.jsx)("div",{className:N.default.entityName,children:"New Entity"==e.name?s("New Entity"):e.name}),(0,t.jsxs)("div",{className:N.default.entityInfo,children:[(0,T.isArkhamEntity)(e)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A,{}),(0,t.jsx)("div",{className:N.default.separator})]}),(0,t.jsx)("span",{className:N.default.numAddresses,children:(0,t.jsx)(M,{entity:e})})]})]})]})},A=({showIcon:e})=>{let{t:i}=(0,h.useTranslation)();return(0,t.jsxs)("div",{className:N.default.arkhamEntity,children:[e&&(0,t.jsx)("span",{className:N.default.arkhamEntityIcon,children:(0,t.jsx)(S.default,{width:17,height:17,src:"/icons/arkhamEntity.svg"})}),(0,t.jsx)("span",{children:i("Arkham Entity")})]})},k=({entity:e})=>{let[i,a]=(0,s.useState)(`https://static.arkhamintelligence.com/entities/${e.id}.png`);return(0,t.jsx)("div",{className:N.default.profilePicture,children:(0,t.jsx)("img",{src:e.customImageSlug??i,style:{objectFit:"cover",width:"100%",height:"100%"},onError:()=>a("/profile.svg"),alt:"entity-image"})})},M=({entity:e})=>{let{t:i}=(0,h.useTranslation)(),a=e.addresses?Object.values(e.addresses).map(e=>e.length).reduce((e,t)=>e+t,0):0;return(0,t.jsx)(t.Fragment,{children:a+(1===a?` ${i("address")}`:` ${i("addresses")}`)})};var R=e.i(3509),O=e.i(72552),W=e.i(38171),Q=e.i(15182),F=e.i(4248),P=e.i(52531),D=e.i(47005),B=e.i(93254);let V=({chainLabels:e,onSaveDeletes:i,showRemoveFromEntity:a,onAdd:n,allowBulkUpload:r})=>{let[l,d]=(0,s.useState)([]),o=e=>{l.some(t=>t.address==e.address&&t.chainType==e.chainType)?d(l.filter(t=>t.address!=e.address||t.chainType!=e.chainType)):d([...l,e])},{t:u}=(0,h.useTranslation)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:R.default.bulkUploadButton,children:(0,t.jsx)(z,{uploadLabels:e=>{let t=e.slice(0,300),i=[];t.forEach(e=>{let t=(0,W.addressType)(e.address);t&&i.push({name:e.label,address:e.address,chainType:t})}),i.length>0&&n(i)},isEnabled:r})}),(0,t.jsx)("div",{className:R.default.container,children:(0,t.jsx)("div",{className:R.default.entityAddresses,children:e.map(({chainType:s,labels:r},u)=>(0,t.jsx)(H,{chainType:s,labels:r,queuedForDelete:l,setQueuedForDelete:d,toggleQueuedForDelete:o,first:0==u,last:u==e.length-1,onSaveDeletes:i,showRemoveFromEntity:a,onAdd:n},s))})})]})},U=({onUploadComplete:e})=>{let{t:i}=(0,h.useTranslation)(),[a,n]=(0,s.useState)(""),[r,l]=(0,s.useState)(null),[o,c]=(0,s.useState)("No file chosen"),_=""!==a.trim(),m=null!==r,{modals:f,setContext:p}=(0,u.usePageContext)();return(0,t.jsxs)("div",{className:R.default.csvUploadModal,children:[(0,t.jsxs)("div",{className:R.default.uploadGrid,children:[(0,t.jsxs)("div",{className:R.default.uploadGridCell,children:[(0,t.jsx)("div",{className:R.default.uploadLabel,children:i("Paste labels")}),(0,t.jsx)(D.EditableTextArea,{text:a,onChange:e=>n(e.target.value),onEdited:n,className:R.default.csvTextEntry,placeholder:i("label, address,")+"\n"+i("label, address")+"\n\n"+i("or")+"\n\n"+i("address,")+"\n"+i("address,")+"\n"+i("address")}),(0,t.jsx)("div",{className:R.default.uploadButtonContainer,children:(0,t.jsx)(d.default,{analyticsName:"Apply Label Paste",onClick:()=>{if(""!==a.trim()){let t=q(O.default.parse(a,{header:!1,skipEmptyLines:!0}).data);t&&(e(t),p({modals:f.slice(0,-1)}))}else alert(i("No text entered"))},disabled:!_,className:R.default.uploadButton,children:i("apply")})})]}),(0,t.jsx)("div",{className:R.default.or,children:i("or")}),(0,t.jsxs)("div",{className:R.default.uploadGridCell,children:[(0,t.jsx)("div",{className:R.default.uploadLabel,children:i("Upload CSV")}),(0,t.jsxs)("div",{className:R.default.csvUploadMiddleSection,children:[(0,t.jsxs)("div",{className:R.default.fileInputButtonContainer,children:[(0,t.jsx)("input",{id:"hiddenFileInput",type:"file",accept:".csv",onChange:e=>{let t=e.target.files;t&&t.length>0&&(l(t[0]),c(t[0].name))},className:R.default.fileInput}),(0,t.jsx)(d.default,{analyticsName:"Select Label File",onClick:()=>{document.getElementById("hiddenFileInput")?.click()},className:R.default.uploadButton,children:i("Select File")})]}),(0,t.jsx)("div",{className:R.default.fileName,children:o})]}),(0,t.jsx)("div",{className:R.default.uploadButtonContainer,children:(0,t.jsx)(d.default,{analyticsName:"Apply Label Upload",onClick:()=>{r?O.default.parse(r,{complete:t=>{let i=q(t.data);i&&(e(i),p({modals:f.slice(0,-1)}))},header:!1,skipEmptyLines:!0}):alert(i("No file chosen"))},disabled:!m,className:R.default.uploadButton,children:i("apply")})})]})]}),(0,t.jsxs)("div",{className:R.default.uploadBottomMessage,children:[i("Bulk upload allows up to 300 total addresses per entity. Make sure addresses are valid and formatted correctly.")," ",i("If you want to add more, use our API that you can access")," ",(0,t.jsx)("a",{href:"/api/docs",style:{color:"#007bff",textDecoration:"underline"},children:i("here")}),"."]}),(0,t.jsx)("div",{className:`${R.default.doneButton} ${R.default.showOnMobile}`,children:(0,t.jsx)(d.default,{analyticsName:"Close Label Upload",onClick:()=>p({modals:f.slice(0,-1)}),children:i("Done")})})]})},q=e=>{let t=[];for(let i=0;i<e.length;i++){let a,s=e[i];if(void 0===s[0])continue;let n=s[1]?.trim()??s[0];if(s[1]&&""!==s[1].trim()?a=s[0].trim():n=s[0].trim(),""!==n.trim()){if(!(0,W.addressType)(n))return void alert("Invalid address: "+n);if(a&&(0,W.addressType)(a))return void alert("Invalid label: "+a+" (cannot be an address). Separate addresses on new lines.");t.push({label:a,address:n})}}return t},z=({isEnabled:e=!0,uploadLabels:i})=>{let{t:a}=(0,h.useTranslation)(),{modals:s,setContext:n}=(0,u.usePageContext)();return(0,t.jsx)("div",{onClick:e?()=>{e&&n({modals:[...s,(0,t.jsx)(U,{onUploadComplete:i})]})}:void 0,style:{opacity:e?1:.5,cursor:e?"pointer":"not-allowed"},className:R.default.uploadButton,role:"button",tabIndex:e?0:-1,children:a("Bulk Upload")})},H=({chainType:e,labels:i,queuedForDelete:a,setQueuedForDelete:s,toggleQueuedForDelete:n,first:r,last:l,onSaveDeletes:d,showRemoveFromEntity:o,onAdd:u})=>{let{t:c}=(0,h.useTranslation)();return console.log("ChainTypeLabelSection",e),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:R.default.chainTypeHeader,children:[(0,t.jsxs)(F.WithIcon,{id:e,type:"chainType",children:[c(W.ChainTypeDisplays[e].toUpperCase())," ",c("ADDRESSES")," (",i.length,")"]}),r&&a.length>0&&(0,t.jsx)("div",{className:R.default.saveEdits,onClick:()=>{d(a),s([])},children:c("SAVE EDITS")})]}),(0,t.jsx)($,{partialLabels:i,queuedForDelete:a,toggleQueuedForDelete:n,chainType:e,showRemoveFromEntity:o,onAdd:u}),!l&&(0,t.jsx)("div",{className:R.default.divider})]})},$=({partialLabels:e,queuedForDelete:i,chainType:a,toggleQueuedForDelete:n,showRemoveFromEntity:r,onAdd:l})=>{let{t:d}=(0,h.useTranslation)(),[o,u]=(0,s.useState)(""),[c,_]=(0,s.useState)("");return(0,t.jsxs)(t.Fragment,{children:[e.map(e=>(0,t.jsx)(G,{partialLabel:e,queuedForDelete:i.some(t=>t.address==e.address&&t.chainType==e.chainType),chainType:a,toggleQueuedForDelete:n,showRemoveFromEntity:r},e.address+e.chainType)),(0,t.jsx)(m.default,{placeholder:d("ENTER A LABEL"),value:o,inputClassName:R.default.newEntityAddressInput,onChange:e=>u(e.target.value),onEnter:e=>{c&&(l([{name:e.key,address:c,chainType:a}]),u(""),_(""))}}),(0,t.jsx)(m.default,{placeholder:d("ENTER AN ADDRESS"),inputClassName:R.default.newEntityAddressInput,value:c,onChange:e=>_(e.target.value),onEnter:e=>{l([{name:""!==o?o:void 0,address:e.key,chainType:a}]),u(""),_("")}}),(0,t.jsx)(Q.BiPlus,{className:R.default.icon,onClick:()=>{c&&(l([{name:o,address:c,chainType:a}]),u(""),_(""))}})]})},G=({partialLabel:e,queuedForDelete:i,chainType:r,toggleQueuedForDelete:l,showRemoveFromEntity:d})=>{let{t:u}=(0,h.useTranslation)(),[c,_]=(0,s.useState)(""),m=(0,B.isMobile)(),[f,p]=(0,s.useState)(!!m),g=n.useApi.userLabels.create(),y=(0,a.useRouter)();return(0,s.useEffect)(()=>{e&&_(e.name?e.name:"")},[e]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.EditableTitle,{placeholder:u("ENTER A LABEL"),className:R.default.editableLabel,title:c,onEdited:t=>{g.mutate([{...e,name:t}])}}),(0,t.jsxs)("div",{onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!!m),className:R.default.entityAddressesItemContainer,children:[(0,t.jsx)("div",{className:[R.default.entityAddressAddress,R.default.entityAddressesInnerItem].join(" "),style:{textDecoration:i?"line-through":void 0,color:i&&m?"var(--red)":void 0},onClick:()=>y.push(`/explorer/address/${e.address}`),children:e.address}),d&&(0,t.jsxs)(t.Fragment,{children:["Â ",(0,t.jsx)(K,{partialLabel:e})]})]}),(0,t.jsx)("div",{className:R.default.delete,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!!m),style:{opacity:f?.7:+!!i},onClick:()=>l({address:e.address,chainType:r}),children:(0,t.jsx)(o.FiX,{})})]})},K=({partialLabel:e})=>{let{t:i}=(0,h.useTranslation)(),{modals:a,setContext:s}=(0,u.usePageContext)(),r=n.useApi.userEntities.update();return(0,t.jsxs)(d.default,{analyticsName:"Add to Entity",format:"text",className:R.default.entityAddRemove,onClick:()=>{if(e.entity){let i=e.entity;s({modals:[...a,(0,t.jsx)(c.Confirmation,{confirm:()=>{let t={...i.addresses};t[e.chainType]=t[e.chainType]?.filter(t=>t!=e.address),r.mutate({entity:{...i,addresses:t},onlyAddAddresses:!1})}})]})}else s({modals:[...a,(0,t.jsx)(P.AddToEntity,{address:e.address})]})},children:["[",e.entity?i("REMOVE FROM")+" "+e.entity.name:i("ASSIGN TO ENTITY"),"]"]})};e.i(19830);var Y=e.i(70384),J=e.i(99735),X=e.i(14955),Z=e.i(67359);let ee=({entity:e})=>{let i=n.useApi.userLabels.readAll(),r=[];x.chainTypes.forEach(t=>{if(e.addresses&&e.addresses[t]){let a=[];e.addresses[t].forEach(e=>{let s=i.data.find(i=>i.address==e&&i.chainType==t);a.push({address:e,chainType:t,name:s?.name})}),r.push({chainType:t,labels:a})}else r.push({chainType:t,labels:[]})});let l=n.useApi.userEntities.update(),d=n.useApi.userLabels.create(),o=(0,a.useRouter)();(0,s.useEffect)(()=>{o.push(`/labels/${e.id}`)},[e]);let{t:u}=(0,h.useTranslation)();return(0,t.jsxs)("div",{className:v.default.container,children:[(0,t.jsxs)("div",{className:v.default.leftContainer,children:[(0,t.jsx)(et,{entity:e}),(0,t.jsx)(V,{chainLabels:r,allowBulkUpload:100>Object.values(e.addresses||{}).reduce((e,t)=>e+t.length,0),onSaveDeletes:t=>{let i={...e.addresses};t.forEach(({address:e,chainType:t})=>{i[t]=i[t]?.filter(t=>t!=e)}),l.mutate({entity:{...e,addresses:i},onlyAddAddresses:!1})},onAdd:async t=>{let i=e.addresses?{...e.addresses}:{};Object.values(i).reduce((e,t)=>e+t.length,0);let a=t.length>1;for(let e of t){if(!e.chainType||!e.address)continue;let t=i[e.chainType]||[];if(t.includes(e.address)||(i[e.chainType]=[...t,e.address]),Object.values(i).reduce((e,t)=>e+t.length,0)>300&&a){alert("Bulk uploads are not permitted over 100 addresses");break}}let s={...e,addresses:i};for(let e of(await l.mutateAsync({entity:s,onlyAddAddresses:!0}),t))e.name&&await d.mutateAsync([{name:e.name,address:e.address,chainType:e.chainType}])}})]}),(0,t.jsxs)("div",{className:v.default.rightContainer,children:[(0,t.jsx)(ea,{entity:e}),(0,t.jsx)(es,{entity:e})]})]})},et=({entity:e})=>{let{t:i}=(0,h.useTranslation)(),[r,l]=(0,s.useState)(`https://static.arkhamintelligence.com/entities/${e.id}.png`);(0,s.useEffect)(()=>{l(`https://static.arkhamintelligence.com/entities/${e.id}.png`)},[e.id]);let c=n.useApi.userEntities.update(),_=(0,a.useRouter)(),{modals:m,setContext:f}=(0,u.usePageContext)(),p=e.customImageSlug??r;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:v.default.profileContainer,children:[(0,t.jsxs)("div",{className:v.default.profilePicture,onClick:()=>f({modals:[...m,(0,t.jsx)(ei,{entity:e})]}),children:[(0,t.jsx)("div",{children:(0,t.jsx)(o.FiCamera,{})}),(0,t.jsx)("img",{src:p,style:{objectFit:"cover",width:"100%",height:"100%"},onError:()=>l("/profile.svg"),alt:"entity-image"})]}),(0,t.jsxs)("div",{className:v.default.profileMiddle,children:[(0,t.jsx)("div",{className:v.default.entityTitle,children:(0,t.jsx)(j.EditableTitle,{editingDisabled:(0,T.isArkhamEntity)(e),title:e.name,onEdited:t=>c.mutate({entity:{...e,name:t},onlyAddAddresses:!1})})}),(0,t.jsx)(E.TotalValueRow,{compact:!0,query:{entity:e.id},entity:{id:e.id,name:""}})]}),(0,t.jsxs)("div",{className:`${v.default.profileRight} ${v.default.hideOnMobile}`,children:[(0,T.isArkhamEntity)(e)&&(0,t.jsx)(A,{showIcon:!0}),(0,t.jsx)(d.default,{analyticsName:"View Entity",className:v.default.viewEntityProfile,format:"text",onClick:()=>_.push(`/explorer/entity/${e.id}`),children:i("VIEW ENTITY PROFILE")})]}),(0,t.jsxs)("div",{className:`${v.default.profileRight} ${v.default.showOnMobile}`,children:[(0,T.isArkhamEntity)(e)&&(0,t.jsx)(A,{showIcon:!0}),(0,t.jsx)(d.default,{analyticsName:"View Entity",className:v.default.viewEntityProfile,format:"text",onClick:()=>_.push(`/explorer/entity/${e.id}`),children:i("VIEW ENTITY")})]})]})})},ei=({entity:e})=>(0,t.jsx)(en,{entityID:e.id}),ea=({entity:e})=>{let i={base:[e.id],usdGte:.1,sortDir:"desc",sortKey:"time",limit:20,offset:0,flow:"all"},[a,r]=(0,s.useState)(i),l=(0,B.isMobile)(),d=(0,Y.useQueryClient)();return(0,s.useEffect)(()=>{if(a.base&&a.base[0]===e.id){let e=(0,n.stringifyValues)(a);d.invalidateQueries(["/transfers",e],{refetchInactive:!0})}else r({...a,base:[e.id]})},[e.id,e.addresses]),(0,t.jsx)("div",{className:v.default.entityTransactions,children:(0,t.jsx)(L.Transactions,{filter:a,setFilter:r,tabs:["all"],query:{entity:e.id},showFilterBubbles:!0,showCSVButtons:!1,mobile:l})})},es=({entity:e})=>{let{t:i}=(0,h.useTranslation)(),a={id:e.id,type:"entity",last:"1w",flow:"all",limit:100},[r,l]=(0,s.useState)(a),[d,o]=(0,s.useState)({sortDir:"desc",sortKey:"time",limit:100,offset:0,flow:"all",timeLast:"7d"});(0,s.useEffect)(()=>{r.last||void 0===d.timeLast||o(e=>({...e,timeLast:void 0})),"1M"===r.last&&"30d"!==d.timeLast?o(e=>({...e,timeLast:"30d",timeGte:void 0,timeLte:void 0})):"1w"===r.last&&"7d"!==d.timeLast?o(e=>({...e,timeLast:"7d",timeGte:void 0,timeLte:void 0})):r.last&&"1M"!==r.last&&"1w"!==r.last&&d.timeLast!==r.last&&o(e=>({...e,timeLast:r.last,timeGte:void 0,timeLte:void 0}))},[r.last]),(0,s.useEffect)(()=>{"30d"===d.timeLast&&"1M"!==r.last?l(e=>({...e,last:"1M"})):"7d"===d.timeLast&&"1w"!==r.last?l(e=>({...e,last:"1w"})):"30d"!==d.timeLast&&"7d"!==d.timeLast&&d.timeLast!==r.last&&l(e=>({...e,last:d.timeLast})),(d.timeGte||d.timeLte)&&void 0!==r.last&&l(e=>({...e,last:""}))},[d.timeLast,d.timeGte,d.timeLte]);let u=(0,Y.useQueryClient)();return(0,s.useEffect)(()=>{if(r.id&&r.id===e.id){let t=(0,n.stringifyValues)(r);u.invalidateQueries([`/counterparties/entity/${e.id}`,t],{refetchInactive:!0})}else l({...r,id:e.id})},[e.id,e.addresses]),(0,t.jsxs)("div",{className:v.default.entityCounterparties,children:[(0,t.jsx)("div",{className:v.default.counterpartiesTitle,children:i("TOP COUNTERPARTIES")}),(0,t.jsx)(C.Counterparties,{filter:r,setFilter:l,filterTime:d})]})},en=({entityID:e})=>{let{t:i}=(0,h.useTranslation)();return(0,t.jsxs)("div",{className:v.default.choosePhotoModalContainer,children:[(0,t.jsx)("div",{className:v.default.choosePhotoTitle,children:i("Upload a photo")}),(0,t.jsx)(er,{entityID:e})]})},er=({entityID:e})=>{let{t:i}=(0,h.useTranslation)(),{modals:a,setContext:r}=(0,u.usePageContext)(),[l,d]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),[_,m]=(0,s.useState)(""),f=(0,s.useRef)(null),p=(0,s.useRef)(null),g=(0,s.useRef)(""),[y,b]=(0,s.useState)(),[x,E]=(0,s.useState)(),L=n.useApi.userEntities.uploadPhoto(e=>{d(!1),r({modals:a.slice(0,-1)})});return(0,Z.useCropDebounceEffect)(async()=>{x?.width&&x?.height&&p.current&&f.current&&(0,Z.canvasPreview)(p.current,f.current,x,1,0)},100,[x,1,0]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("label",{className:v.default.photoUploadInputElement,style:{display:o?"none":"flex"},children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){if(e.target.files&&e.target.files.length>0){b(void 0);let t=new FileReader;t.addEventListener("load",()=>m(t.result?.toString()||"")),t.readAsDataURL(e.target.files[0]),c(!0)}}}),(0,t.jsx)("span",{children:i("CLICK OR DRAG TO UPLOAD")})]}),(0,t.jsx)("div",{className:v.default.reactCropContainer,children:_&&(0,t.jsx)(X.default,{crop:y,onChange:(e,t)=>b(t),onComplete:e=>E(e),aspect:1,circularCrop:!0,children:(0,t.jsx)("img",{ref:p,alt:"Crop me",src:_,style:{transform:"scale(1) rotate(0deg)"},onLoad:function(e){let{width:t,height:i}=e.currentTarget;b((0,Z.centerAspectCrop)({mediaWidth:t,mediaHeight:i,aspect:1}))},className:v.default.imageToCrop})})}),x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:(0,t.jsx)("canvas",{ref:f,style:{border:"1px solid black",objectFit:"contain",width:x.width,height:x.height,display:"none"}})}),(0,t.jsxs)("div",{className:v.default.uploadButtonAndLoadingIcon,children:[(0,t.jsx)("div",{className:v.default.cancelPhotoUpload,onClick:function(){r({modals:a.slice(0,-1)})},children:"Cancel"}),(0,t.jsx)("div",{className:v.default.uploadPhotoButton,onClick:function(){if(!f.current)throw Error("Crop canvas does not exist");f.current.toBlob(t=>{if(d(!0),!t)throw Error("Failed to create blob");g.current&&URL.revokeObjectURL(g.current),g.current=URL.createObjectURL(t);let i=new FormData;i.append("file",t),L.mutate({data:i,entityID:e})})},children:"Upload"}),l&&(0,t.jsx)("div",{className:v.default.loadingIconContainer,children:(0,t.jsx)(J.Logo,{of:"loadingIcon",maxHeight:15})})]})]})]})};var el=e.i(37204);let ed=({entities:e})=>{let{t:i}=(0,h.useTranslation)(),a=n.useApi.userLabels.readAll(),s=x.chainTypes.map(t=>{let i=(a.data?.filter(e=>e.chainType===t)||[]).map(t=>{let i=e.find(e=>{var i=e.addresses?e.addresses[t.chainType]:[];return i?.includes(t.address)});return{...t,entity:i}});return{chainType:t,labels:i}}),r=n.useApi.userLabels.deleteMany(),l=n.useApi.userLabels.create();return(0,t.jsxs)("div",{className:el.default.container,children:[(0,t.jsx)("div",{className:el.default.header,children:i("ALL PRIVATE LABELS")}),(0,t.jsx)(V,{chainLabels:s,onSaveDeletes:e=>{r.mutate(e)},showRemoveFromEntity:!0,onAdd:e=>new Promise(t=>{e.forEach(e=>{e.name&&l.mutate([{name:e.name,address:e.address,chainType:e.chainType}])}),t()})})]})},eo=()=>{let{t:e}=(0,h.useTranslation)(),i=(0,a.useRouter)(),[l,d]=(0,s.useState)("ENTITIES"),o=n.useApi.userEntities.delete(),[u,c]=(0,s.useState)(""),_=n.useApi.userEntities.readAllMetadata(),m=n.useApi.user.get(),p=n.useApi.user.getLabelEntityLimits(),g=i.query.uuid?i.query.uuid[0]:void 0,y="ENTITIES"===l&&!g||"LABELS"===l,v=n.useApi.userEntities.readAll(y),x=n.useApi.userEntities.read(g,!!g),E=g&&x.data?.id?x.data:void 0;(0,s.useEffect)(()=>{g&&!x.isFetching&&x.error&&i.push("/labels")},[g,x.isFetching,x.error,i]);let L=n.useApi.userEntities.create(e=>i.push(`/labels/${e.id}`)),C=()=>L.mutate({id:"",name:"New Entity"}),j={title:e("ENTITIES / LABELS"),onClickTitle:()=>i.push("/labels"),names:_.data.map(e=>e.name.toUpperCase()),ids:_.data.map(e=>e.id),onClickItem:e=>{i.push(`/labels/${e}`),d("ENTITIES")},newButtonString:e("CREATE NEW ENTITY"),onClickNew:C,selectedItemId:E?.id,onClickDelete:e=>{o.mutate(e)},onSearch:e=>{c(e)}},T=(0,s.useMemo)(()=>(y?v.data:_.data).filter(e=>e.name.toLowerCase().startsWith(u.trim().toLowerCase())),[v.data,_.data,u,y]);return(0,t.jsxs)("div",{className:r.default.container,children:[(0,t.jsx)(f,{...j}),(0,t.jsxs)("div",{className:r.default.rightContainer,children:[(0,t.jsx)("div",{className:r.default.mobileTitle,onClick:()=>i.push("/labels"),role:"button",tabIndex:0,children:e("private labels")}),(0,t.jsx)(eu,{currentTab:l,setTab:d,hideIfNotMobile:!1}),(0,t.jsx)("div",{className:r.default.mobileSeparator}),(0,t.jsxs)("div",{className:r.default.rightInnerContainer,children:[E||"ENTITIES"!==l?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(w,{entities:T,onClickNew:C}),E&&"ENTITIES"===l?(0,t.jsx)(ee,{entity:E}):(0,t.jsx)(t.Fragment,{}),"LABELS"===l?(0,t.jsx)(ed,{entities:v.data}):(0,t.jsx)(t.Fragment,{}),m.data?.preview&&p.data&&(0,t.jsx)("div",{className:r.default.mobileUsageLimits,children:(0,t.jsx)(b,{limits:p.data})})]})]})]})},eu=({currentTab:e,setTab:i,hideIfNotMobile:a})=>{let{t:s}=(0,h.useTranslation)();return(0,t.jsxs)("div",{className:`${r.default.tabsContainer} ${a&&r.default.hideIfNotMobile}`,children:[(0,t.jsx)(ec,{name:s("ENTITIES"),selected:"ENTITIES"===e,onClick:()=>i("ENTITIES")}),(0,t.jsx)(ec,{name:s("LABELS"),selected:"LABELS"===e,onClick:()=>i("LABELS")})]})},ec=({name:e,selected:i,onClick:a})=>(0,t.jsx)("div",{className:i?[r.default.tabSelected,r.default.tab].join(" "):[r.default.tabUnselected,r.default.tab].join(" "),onClick:a,children:e});var eh=e.i(71138);e.s(["default",0,()=>(0,t.jsx)(eh.RequireAuth,{children:(0,t.jsx)(i.default,{children:(0,t.jsx)(eo,{})})})],21539)},27969,(e,t,i)=>{let a="/labels/[[...uuid]]";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(21539)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})}]);